\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\usepackage{caption}
\usepackage{float}
\graphicspath{{images/}}
\hypersetup{
  colorlinks=true,
  urlcolor=blue,
}
\begin{document}

\title{SAT Solving Sudoku}
\author{Aresh Pourkavoos}
\maketitle

Sudoku is a puzzle game which consists of a $9 \times 9$ square grid,
subdivided into $3 \times 3$ blocks
and partially filled with the digits 1-9.
The goal is to fill in the rest of the digits such that
every row, column and block contains each digit exactly once.
Sudoku is a well-studied problem,
and there are many algorithms out there to solve it,
from pencil-and-paper tricks used mostly by human players
to trial-and-error methods used by computers, such as backtracking.
However, I will focus on one particular approach: SAT solving.

SAT is short for ``satisfiability,''
and a SAT solver is a program that checks
whether a given statement is satisfiable.
In this case, a statement is a logical proposition
such as ``P and Q'',
and a statement is satisfiable
if there is some way to assign each variable
(P and Q, in this case) to either true or false
such that the entire statement is true.
``P and Q,'' for example, is satisfiable:
it has exactly one solution, where P and Q are both true.
``P and not P,'' on the other hand, is not satisfiable,
since for both possible values of P, the statement is false.
A brute-force SAT solver would simply check every possible combination,
of which there are $2^n$, where $n$ is the number of variables.
However, there are much more optimized algorithms in use,
making SAT solvers practical for huge formulas with thousands of variables or more.

%%% 

The following table shows a way to formulate the statement
that at most one of 8 variables $a_0, \ldots, a_7$ is true,
using a binary divide-and-conquer method.
\begin{align*}
  && a_0, a_1 \text{ free}|
  && a_2, a_3 \text{ free}|
  && a_4, a_5 \text{ free}
  && a_6, a_7 \text{ free}| \\
  && \underline{\lnot a_0 \lor \lnot a_1|}
  && \lnot a_2 \lor \lnot a_3|
  && \lnot a_4 \lor \lnot a_5
  && \lnot a_6 \lor \lnot a_7| \\
  && a_{0-1} := a_0 \lor a_1
  && a_{2-3} := a_2 \lor a_3|
  && a_{4-5} := a_4 \lor a_5
  && a_{6-7} := a_6 \lor a_7| \\
  && \lnot a_{0-1} \lor a_0 \lor a_1
  && \lnot a_{2-3} \lor a_2 \lor a_3|
  && \lnot a_{4-5} \lor a_4 \lor a_5
  && \lnot a_{6-7} \lor a_6 \lor a_7| \\
  && \lnot a_0 \lor a_{0-1}
  && \lnot a_2 \lor a_{2-3}|
  && \lnot a_4 \lor a_{4-5}
  && \lnot a_6 \lor a_{6-7}| \\
  && \lnot a_1 \lor a_{0-1}
  && \lnot a_3 \lor a_{2-3}|
  && \lnot a_5 \lor a_{4-5}
  && \lnot a_7 \lor a_{6-7}| \\
  && && \underline{\lnot a_{0-1} \lor \lnot  a_{2-3}|}
  && && \lnot a_{4-5} \lor \lnot  a_{6-7}| \\
  && && a_{0-3} := a_{0-1} \lor a_{2-3}
  && && a_{4-7} := a_{4-5} \lor a_{6-7}| \\
  && && \lnot a_{0-3} \lor a_{0-1} \lor a_{2-3}
  && && \lnot a_{4-7} \lor a_{4-5} \lor a_{6-7}| \\
  && && \lnot a_{0-1} \lor a_{0-3}
  && && \lnot a_{4-5} \lor a_{4-7}| \\
  && && \lnot a_{2-3} \lor a_{0-3}
  && && \lnot a_{6-7} \lor a_{4-7}| \\
  && && && && \underline{\lnot a_{0-3} \lor \lnot a_{4-7}|}
\end{align*}
\begin{center}
  \begin{tabular}{|c|c|c|c|}
    \hline
    $i$ & Free vars & Aux vars & Formulas \\ \hline
    1 & 2 & 0 & 1 \\ \hline
    2 & 4 & 2 & 9 \\ \hline
    3 & 8 & 6 & 25 \\ \hline
  \end{tabular}
\end{center}
At level $i$ of the tree,
there are $n=2^i$ free variables,
$n-2$ auxiliary variables
(for a total of $2n-2$ variables),
and $4n-7$ formulas.
In contrast,
the naive method with no auxiliary variables
uses $1+(n^2-n)/2$ formulas.
\begin{align*}
  && a_0, a_1, a_2 \text{ free}|
  && a_3, a_4, a_5 \text{ free}
  && a_6, a_7, a_8 \text{ free}| \\
  && \lnot a_0 \lor \lnot a_1|
  && \lnot a_3 \lor \lnot a_4
  && \lnot a_6 \lor \lnot a_7| \\
  && \lnot a_0 \lor \lnot a_2|
  && \lnot a_3 \lor \lnot a_5
  && \lnot a_6 \lor \lnot a_8| \\
  && \underline{\lnot a_1 \lor \lnot a_2|}
  && \lnot a_4 \lor \lnot a_5
  && \lnot a_7 \lor \lnot a_8| \\
  && a_{0-2} := a_0 \lor a_1 \lor a_2
  && a_{3-5} := a_3 \lor a_4 \lor a_5
  && a_{6-8} := a_6 \lor a_7 \lor a_8| \\
  && \lnot a_{0-2} \lor a_0 \lor a_1 \lor a_2
  && \lnot a_{3-5} \lor a_3 \lor a_4 \lor a_5
  && \lnot a_{6-8} \lor a_6 \lor a_7 \lor a_8| \\
  && \lnot a_0 \lor a_{0-2}
  && \lnot a_3 \lor a_{3-5}
  && \lnot a_6 \lor a_{6-8}| \\
  && \lnot a_1 \lor a_{0-2}
  && \lnot a_4 \lor a_{3-5}
  && \lnot a_7 \lor a_{6-8}| \\
  && \lnot a_2 \lor a_{0-2}
  && \lnot a_5 \lor a_{3-5}
  && \lnot a_8 \lor a_{6-8}| \\
  && && && \lnot a_{0-2} \lor \lnot a_{3-5}| \\
  && && && \lnot a_{0-2} \lor \lnot a_{6-8}| \\
  && && && \underline{\lnot a_{3-5} \lor \lnot a_{6-8}|} \\
\end{align*}
\begin{center}
  \begin{tabular}{|c|c|c|c|}
    \hline
    $i$ & Free vars & Aux vars & Formulas \\ \hline
    1 & 3 & 0 & 3 \\ \hline
    2 & 9 & 3 & 24 \\ \hline
  \end{tabular}
\end{center}
At level $i$ of the tree,
there are $n=3^i$ free variables,
$(n-3)/2$ auxiliary variables
(for a total of $(3n-3)/2$ variables),
and $(7n-15)/2$ formulas.
\end{document}
